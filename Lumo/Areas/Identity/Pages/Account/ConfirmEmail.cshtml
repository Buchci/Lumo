@page
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@model ConfirmEmailModel
@{
    ViewData["Title"] = Localizer["Title"];
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6 text-center">
            <div class="card shadow border-0 p-5" style="border-radius: 20px; background-color: var(--card-bg);">

                <h1 class="fw-bold mb-3" style="color: var(--main-color);">@Localizer["Header"]</h1>

                <p class="lead mb-4" style="color: var(--text-color);">
                    @Localizer["Description"]
                </p>

                <div class="alert alert-info border-0 shadow-sm" style="background-color: rgba(40, 167, 69, 0.1); color: var(--text-color);">
                    <p class="mb-0">
                        @Localizer["RedirectInfo"] <br />
                        <span id="countdown" class="fw-bold" style="font-size: 1.5rem; color: var(--main-color);">5</span> @Localizer["Seconds"]
                    </p>
                </div>

                <div class="mt-4">
                    <a href="/Identity/Account/Login" class="btn btn-lumo py-2 px-4">
                        @Localizer["LoginBtn"]
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        let seconds = 5;
        const countdownElement = document.getElementById('countdown');

        const timer = setInterval(() => {
            seconds--;
            if (countdownElement) countdownElement.textContent = seconds;

            if (seconds <= 0) {
                clearInterval(timer);
                window.location.href = '/Identity/Account/Login';
            }
        }, 1000);
    </script>
}